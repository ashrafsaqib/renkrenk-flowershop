<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="mb-0">{{ heading_title }}</h3>
    <div class="carousel-controls">
      <button class="btn btn-outline-secondary btn-sm me-1" onclick="$('#featured-carousel-{{ module }}').carousel('prev')" type="button">
        <i class="fa fa-chevron-left"></i>
      </button>
      <button class="btn btn-outline-secondary btn-sm" onclick="$('#featured-carousel-{{ module }}').carousel('next')" type="button">
        <i class="fa fa-chevron-right"></i>
      </button>
    </div>
  </div>
  
  <div id="featured-carousel-{{ module }}" class="carousel slide">
    <div class="carousel-inner">
      {% for chunk in products|batch(4) %}
      <div class="carousel-item{% if loop.first %} active{% endif %}">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-4">
          {% for product in chunk %}
            <div class="col mb-3">{{ product }}</div>
          {% endfor %}
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<style>
#featured-carousel-{{ module }} .carousel-inner {
  overflow: visible;
}
#featured-carousel-{{ module }} .carousel-item {
  transition: transform 0.6s ease-in-out;
}
.carousel-controls .btn {
  width: 36px;
  height: 36px;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
</style>