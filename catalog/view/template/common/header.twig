<!DOCTYPE html>
<html dir="{{ direction }}" lang="{{ lang }}">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ title }}</title>
  <base href="{{ base }}" />
  {% if description %}
  <meta name="description" content="{{ description }}" />
  {% endif %}
  {% if keywords %}
  <meta name="keywords" content="{{ keywords }}" />
  {% endif %}
  <link href="catalog/view/stylesheet/stylesheet.css" type="text/css" rel="stylesheet" />
  {% for style in styles %}
  <link href="{{ link.href }}" rel="{{ link.rel }}" />
  {% endfor %}
  {% if icon %}
  <link rel="icon" href="{{ icon }}" type="image/png">
  {% endif %}
  {% for link in links %}
  <link href="{{ link.href }}" rel="{{ link.rel }}" />
  {% endfor %}
</head>

<body>
  <div id="container" class="d-flex flex-column min-vh-100">
    <div id="alert"></div>
    <nav id="top">
      <div class="container">
        <div class="row">
          <div class="col-4">
            <ul class="list-inline">
              <li class="list-inline-item me-3">{{ currency }}</li>
              <li class="list-inline-item">{{ language }}</li>
              <li class="list-inline-item"><a href="{{ contact }}"><i class="fa-solid fa-phone"></i> <span class="d-none d-lg-inline">{{ telephone }}</span></a></li>
            </ul>
          </div>
          <div class="col-4">
            <a href="{{ home }}"><img src="{{ logo }}" title="{{ name }}" alt="{{ name }}" class="img-fluid" /></a>
          </div>

          <div class="col-4 text-end">
            <ul class="list-inline">
              <li class="list-inline-item">
                <a href="#" id="toggle-search" aria-label="Toggle search"><i class="fa-solid fa-search"></i></a>
              </li>


              
              <li class="list-inline-item">
                <div class="dropdown">
                  <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown"><i class="fa-regular fa-user"></i> <span class="d-none d-lg-inline"></span> </a>
                  <ul class="dropdown-menu dropdown-menu-right">
                    {% if not logged %}
                    <li><a href="{{ register }}" class="dropdown-item">{{ text_register }}</a></li>
                    <li><a href="{{ login }}" class="dropdown-item">{{ text_login }}</a></li>
                    {% else %}
                    <li><a href="{{ account }}" class="dropdown-item">{{ text_account }}</a></li>
                    <li><a href="{{ order }}" class="dropdown-item">{{ text_order }}</a></li>
                    <li><a href="{{ transaction }}" class="dropdown-item">{{ text_transaction }}</a></li>
                    <li><a href="{{ download }}" class="dropdown-item">{{ text_download }}</a></li>
                    <li><a href="{{ logout }}" class="dropdown-item">{{ text_logout }}</a></li>
                    {% endif %}
                  </ul>
                </div>
              </li>
              <li class="list-inline-item"><a href="{{ wishlist }}" id="wishlist-total" title="{{ text_wishlist }}"><i class="fa-regular fa-heart"></i> <span class="d-none d-lg-inline"></span></a></li>
              <li class="list-inline-item"><a href="{{ shopping_cart }}" title="{{ text_shopping_cart }}"><i class="fa-solid fa-cart-shopping"></i> <span class="d-none d-lg-inline"></span></a></li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
    <header>
      <div class="container">
        <div class="row">
          <div class="col">
            {{ search }}
        </div>
      </div>
    </header>
    <main class="flex-grow-1 mb-4">
      {{ menu }}

                    <script>
              document.addEventListener('DOMContentLoaded', function() {
                var toggle = document.getElementById('toggle-search');
                var searchContainer = document.querySelector('header .container .row .col');

                if (!toggle || !searchContainer) return;

                // Hide search bar by default
                searchContainer.style.display = 'none';

                toggle.addEventListener('click', function(e) {
                  e.preventDefault();

                  var isHidden = getComputedStyle(searchContainer).display === 'none';

                  if (isHidden) {
                    searchContainer.style.display = 'block';
                    // focus the first input in the search block if present
                    var input = searchContainer.querySelector('input[type="search"], input[type="text"], input');
                    if (input) input.focus();
                  } else {
                    searchContainer.style.display = 'none';
                  }
                });
              });
              </script>